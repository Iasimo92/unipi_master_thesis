\chapter{Επίδειξη της εφαρμογής(\en{Application Demo})}

\section{Εισαγωγή-Η λογική της λειτουργίας της εφαρμογής \en{Django}}

Όταν τρέχουμε τον διακομιστή της εφαρμογής η εφαρμογή ιστού
είναι διαθέσιμη από οποιοδήποτε φυλλομετρητή. Η αρχική σελίδα στη εφαρμογή
\en{Django} δηλώνεται στο πλαίσιο του \en{Django run server} ώς μία συνάρτηση της \en{Python}
η οποία δέχεται ένα \en{http request} και σαν απάντηση επιστρέφει την αρχική σελίδα(\en{index.html}).

Αυτό γίνεται μέσα από δύο κύριως μηχανισμούς.Η συνάρτηση \en{firstPage} ορίζεται στο αρχείο \en{views.py} της εφαρμογής. Παίρνει ως όρισμα ένα αντικείμενο \en{HttpRequest} 
(την αίτηση του χρήστη) και επιστρέφει ένα \en{HttpResponse} μέσω της \en{render}(σχήμα 7.1):

\FloatBarrier
\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/firstPage.png}
	\caption{ \en{firstPage} συνάρτηση}
\end{figure}

\FloatBarrier

Η λίστα \en{urlpatterns} συνδέει τη διεύθυνση \en{URL} 
με τη συνάρτηση \en{firstPage}. Το κενό \en{string} ('') σημαίνει ότι αυτή η διαδρομή αντιστοιχεί στη ρίζα του ιστότοπου (π.χ., \en{http://localhost:8000/})
Όταν ένας χρήστης επισκέπτεται τη ρίζα, η συνάρτηση \en{firstPage} 
εκτελείται και επιστρέφει την \en{HTML} σελίδα \en{index.html}. Στο σχήμα 7.2 το σημείο στο \en{urls.py} όπου γίνεται η δρομολόγηση.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/urls_firstPage.png}
	\caption{ \en{Urls} δρομολόγηση για την αρχική σελίδα.}
\end{figure}

\FloatBarrier

Μέσα από αυτή την αρχική σελίδα μπορούμε να κατευθυνθούμε σε οποιαδήποτε επιλογή εμείς θέλουμε.
Στο \en{Django} καθοριστικός παράγοντας στην ευκολία με την οποία
μπορείς να χτίσεις μια εφαρμογή από την αρχή είναι ο τρόπος που χειρίζεται
τη δρομολόγηση των διαφόρων σελίδων. Αυτό γίνεται μεσα απο το \en{urls.py}

Αυτή η ρύθμιση καθορίζει πώς θα δρομολογούνται οι 
αιτήσεις \en{HTTP} προς συγκεκριμένες λειτουργίες (\en{views}) 
στην εφαρμογή \en{Django}. Με τη χρήση των δυναμικών παραμέτρων, 
μπορούμε συνεπώς να δημιουργήσουμε πιο ευέλικτες διαδρομές \en{URL} 
που μπορούν να χειρίζονται ποικίλες καταστάσεις. 

Κάθε ένα από αυτά τα \en{paths} που φαίνονται και στην εικόνα 7.3
είναι υπεύθυνα για την ανακατεύθυνση των διευθύνσεων και τη σωστή δρομολόγησή
τους ώστε να δώσουν σαν απάντηση κάθε φορά τα σωστά δεδομένα.

\FloatBarrier
\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/urls.png}
	\caption{ \en{Urls.py} αρχείο}
\end{figure}

\FloatBarrier



\section{Η αρχική σελίδα της εφαρμογής}

Προκειμένου να τρέξει ο \en{Django server}
τρέχουμε την εντολή \en{python3 manage.py runserver} η οποία βρίσκεται στην 
εικόνα 7.4.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/django_server_run.png}
	\caption{ \en{Django run server}}
\end{figure}


\FloatBarrier



Ο εξυπηρετητής τρέχει σαν διεργασία στο λειτουργικό
και είναι διαθέσιμος στη διεύθυνση \en{http://127.0.0.1:8000/}. Εάν εισάγουμε αυτή τη διεύθυνση σε έναν 
φυλλομετρητή της επιλογής μας, θα ανακατευθυνθούμε 
στην αρχική σελίδα, η οποία θα παρουσιαστεί στον 
χρήστη όπως στην εικόνα 7.5. Το εμπρόσθιο τμήμα της εφαρμογής(\en{frontend}) 
είναι γραμμένο με \en{HTML},\en{CSS} ενώ το οπίσθιο τμήμα(\en{backend}) 
είναι γραμμένο σε \en{Python}.

\FloatBarrier
\begin{figure}[h]
	\centering
	\includegraphics[width=1.2\textwidth]{graphics/home_page.png}
	\caption{ Αρχική Σελίδα}
\end{figure}

\FloatBarrier % Prevents floats from moving past this point

\section{\en{Devices}}

Προκειμένου να δημιουργήσουμε μία νέα συσκευή η παρακάτω κλάση
κώδικα μας βοηθάει στο να γίνει όπως στο σχήμα 7.6.

\FloatBarrier
\begin{figure}[htb]
	\centering
	\includegraphics[width=1.2\textwidth]{graphics/class_device.png}
	\caption{Αρχικοποίηση συσκευής}
\end{figure}

\FloatBarrier

Αφού λοιπόν πατήσουμε το κουμπί \en{Devices} αυτό θα μας δρομολογήσει στο αντίστοιχο \en{HTML link},
το οποίο θα μας εμφανίσει μια άλλη σελίδα αυτή του σχήματος 7.7. 

Αποτέλεσμα του πίνακα του σχήματος 7.7 είναι όλες οι συσκευές οι οποίες
είναι στη βάση δεδομένων μας όπου ο χρήστης πρόσθεσε προκειμένου
να μπορεί να αναδράσει με αυτές. Το πως προσθέτουμε συσκευές αναλύεται στο παράρτημα.

\FloatBarrier
\begin{figure}[htb]
	\centering
	\includegraphics[width=1.2\textwidth]{graphics/device_interfaces.png}
	\caption{\en{Controller-Device Interfaces}}
\end{figure}

\FloatBarrier

Με το πάτημα ενός από αυτά τα κουμπιά(σχήμα 7.7), επιστρέφεται μια σελίδα \en{HTML} που εμφανίζει ποια \en{Interfaces} είναι \en{UP} και ποια είναι \en{enabled} (Σχήμα 7.8).

\FloatBarrier
\begin{figure}[htb]
	\centering
	\includegraphics[width=1.2\textwidth]{graphics/interfaces.png}
	\caption{\en{Interfaces}}
\end{figure}
\FloatBarrier


\section{Στατιστικά της συσκευής}

Η λειτουργία του κουμπιού \en{Statistics} βασίζεται στη συνάρτηση \en{get\_interface\_statistics}, 
η οποία είναι υπεύθυνη για τη σύνδεση σε μια δικτυακή συσκευή, 
την απόκτηση στατιστικών πληροφοριών σχετικά με τις 
διεπαφές της, και την παρουσίαση αυτών των πληροφοριών 
σε μια ιστοσελίδα μέσω ενός προτύπου \en{HTML}. Η συνάρτηση αυτή 
δέχεται δύο παραμέτρους: το αίτημα του χρήστη (\en{request}) 
και το αναγνωριστικό της συσκευής (\en{device\_id}), 
το οποίο χρησιμοποιείται για να εντοπίσει τη συγκεκριμένη 
συσκευή από τη βάση δεδομένων.

Για να εντοπίσει τη συσκευή, παρουσιάζεται μία λίστα από το 
\en{User Interface} όπως και στην εικόνα (\en{Devices}) 7.9.


\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/device_statistics.png}
	\caption{Στατιστικά Συσκευής}
\end{figure}

\FloatBarrier

Πατώντας πάνω σε κάθε μια από τις συσκευές που έχουμε ορίσει και εμφανίζονται ως \en{links} εµφανίζει τα παρακάτω στατιστικά αντίστοιχα. Όπως στην  εικόνα 7.10.


\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/device_statistics_response.png}
	\caption{Στατιστικά Συσκευής}
\end{figure}

\FloatBarrier


\section{Στατιστικά της διεπαφής}

Η συνάρτηση επιτρέπει τη σύνδεση σε μια δικτυακή συσκευή, την ανάκτηση των στατιστικών των διεπαφών της και την παρουσίαση αυτών των δεδομένων σε μια ιστοσελίδα. Αυτό επιτυγχάνεται επιλέγοντας \en{Interface Statistics} από το αρχικό μενού. Αυτό μας δρομολογεί στο \en{HTML page} του σχήματος 7.11.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/manage3.png}
	\caption{Στατιστικά διεπαφής αρχική σελίδα}
\end{figure}

\FloatBarrier

\noindent Επιλέγοντας μια από τις συσκευές εμφανίζεται η αντίστοιχη σελίδα με τα στατιστικά των διεπαφών της όπως φαίνονται στο σχήμα 7.12.

\FloatBarrier


\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/interface_statistics.png}
	\caption{Στατιστικά διεπαφής}
\end{figure}


\section{\en{Backup} της συσκευής}

Προκειμένου να σώσουμε τη διαμόρφωση της συσκευής πατάμε το κουμπί
\en{backup} της αρχικής σελίδας. Το κουμπί αυτό μας κατευθύνει στη σελίδα του σχήματος 7.13.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/backup.png}
	\caption{\en{Get Backup of Running config}}
\end{figure}
 
\FloatBarrier


\noindent Πατώντας τη συσκευή που θέλουμε να πάρουμε το \en{running config} της μας επιστρέφεται η τρέχων διαμόρφωση σε \en{HTML} μορφή(σχήμα 7.14).



\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/running_config.png}
	\caption{Τρέχων Διαμόρφωση}
\end{figure}

\FloatBarrier


\section{Διαμόρφωση διεύθυνσης \en{IP}}

Για την αλλαγή της \en{IP} διεύθυνσης, επιλέγεται το κουμπί \en{Configure IP} στην αρχική σελίδα. Αυτή η επιλογή ανακατευθύνει στη σελίδα \en{HTML} που εμφανίζεται στο Σχήμα 7.15. Η διαμόρφωση της \en{IP} διεύθυνσης πραγματοποιείται με την εισαγωγή των παρακάτω στοιχείων, όπως φαίνεται στο Σχήμα 7.15: \en{hostname}, \en{username}, \en{password}, \en{Interface}, \en{ipaddress} και \en{subnetmask}. Με την παροχή αυτών των στοιχείων, επιτυγχάνεται η παραμετροποίηση της \en{IP} διεύθυνσης σε ένα συγκεκριμένο \en{interface} και η αλλαγή της διεύθυνσης.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/configure_ip.png}
	\caption{\en{IP}Διαμόρφωση}
\end{figure}

\FloatBarrier

\noindent Εισάγοντας τα στοιχεία που εμφανίζονται στο Σχήμα 7.15, εφόσον η διαμόρφωση είναι επιτυχής, επιστρέφεται η σελίδα \en{HTML} του Σχήματος 7.16.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/configure_ip_1.png}
	\caption{\en{IP configuration Success}}
\end{figure}

\FloatBarrier

\noindent Στο σχήμα 7.17 φαίνεται η διαφορά τυπώνοντας στο \en{CLI} τις \en{IP} διευθύνσεις πριν και μετά.

\FloatBarrier

\begin{figure}[h]
	\centering
	\includegraphics[width=1.0\textwidth]{graphics/ip_difference.png}
	\caption{\en{IP} Διαφορά}
\end{figure}

\FloatBarrier